{"componentChunkName":"component---src-templates-blog-post-js","path":"/enabling-ipv6-on-maven-java/","result":{"data":{"site":{"siteMetadata":{"title":"Miyuru Tech Blog"}},"markdownRemark":{"id":"70fb4087-892e-5804-8ac5-04a6213827f8","excerpt":"With IPv6 adoption being increased due to IPv4 scarcity and more providers like AWS and Hetzner moving on to IPv6 only networks, it is important to know thatâ€¦","html":"<p>With IPv6 adoption being increased due to IPv4 scarcity and more providers like AWS and Hetzner moving on to IPv6 only networks, it is important to know that your app supports and uses the IPv6.</p>\n<p>Java as it turns out comes out of the box with IPv6 disabled. Here are some steps that you can follow to enable IPv6 on you java app.</p>\n<h1>Maven</h1>\n<p>Maven which is heavily used to build java projects needs a few steps to enable IPv6.\nThe default maven repo does not support IPv6 <a href=\"https://issues.apache.org/jira/browse/INFRA-22061\">yet</a>.  However you can use IPv6 enabled repo <em>ipv6.repo1.maven.org</em> instead.</p>\n<p>Open <code class=\"language-text\">~.m2/settings.xml</code> and add the following to change the default central repo.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"xml\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">settings</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">mirrors</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk7\">mirror</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk7\">id</span><span class=\"mtk1\">&gt;maven-ipv6&lt;/</span><span class=\"mtk7\">id</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk7\">name</span><span class=\"mtk1\">&gt;IPv6 Mirror Repository&lt;/</span><span class=\"mtk7\">name</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk7\">url</span><span class=\"mtk1\">&gt;https://ipv6.repo1.maven.org/maven2&lt;/</span><span class=\"mtk7\">url</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk7\">mirrorOf</span><span class=\"mtk1\">&gt;central&lt;/</span><span class=\"mtk7\">mirrorOf</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk7\">mirror</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">mirrors</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">settings</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p>and when running mvn command append the following to use IPv6.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">-Djava.net.preferIPv6Addresses=true</span></span></code></pre>\n<h1>Java</h1>\n<p>For Java Applications you can enable IPv6 by adding <code class=\"language-text\">-Djava.net.preferIPv6Addresses=true</code> when running for a command line as with maven.</p>\n<p>Or add the <code class=\"language-text\">preferIPv6Addresses</code> on the system property in the app itself.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">System.</span><span class=\"mtk6\">setProperty</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&quot;java.net.preferIPv6Addresses&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&quot;true&quot;</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<p>This will make the application use IPv6 when available.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .mtk6 { color: #DDBB88; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Enabling IPv6 on Java and Maven","date":"November 29, 2021","description":"How to enable IPv6 support on Java and Maven"}},"previous":{"fields":{"slug":"/using-ipv6-to-github-pages-on-custom-domains/"},"frontmatter":{"title":"Using IPv6 to serve github pages on custom domains"}},"next":{"fields":{"slug":"/setup-wireguard-with-global-ipv6/"},"frontmatter":{"title":"Setup WireGuard with global IPv6"}}},"pageContext":{"id":"70fb4087-892e-5804-8ac5-04a6213827f8","previousPostId":"ed82f766-83c0-53bb-88df-f44a00699014","nextPostId":"56eafbb9-6e1d-5d04-a175-202b73af7b99"}},"staticQueryHashes":["1206640803","2841359383"]}