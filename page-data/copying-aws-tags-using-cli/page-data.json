{"componentChunkName":"component---src-templates-blog-post-js","path":"/copying-aws-tags-using-cli/","result":{"data":{"site":{"siteMetadata":{"title":"Miyuru Tech Blog"}},"markdownRemark":{"id":"422f3860-891c-5c0d-b5a4-ddccd1edfb6a","excerpt":"When a AWS account have large number of resources, tags are used to maintain and group resources. \nNormally these tags are added using the cloud formationâ€¦","html":"<p>When a AWS account have large number of resources, tags are used to maintain and group resources.\nNormally these tags are added using the cloud formation templates but some times you need to manually copy them to a another resource. This can be easily done using the AWS CLI.</p>\n<p>The following CLI command queries the tags and saves them to a json file.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">aws ec2 describe-tags --filters Name=resource-id,Values={{ OLD_RESOURCE_ID }} --query &#39;Tags[].{Key:Key,Value:Value}&#39; --profile {{ AWS_PROFILE }} --region us-east-1 --endpoint-url https://api.ec2.us-east-1.aws &gt; tags.json</span></span></code></pre>\n<p>The following CLI command takes the exported tags using the json files and adds them to the new resource.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">aws ec2 create-tags --resources {{ NEW_RESOURCE_ID }} --tags file://tags.json --profile {{ AWS_PROFILE }} --region us-east-1 --endpoint-url https://api.ec2.us-east-1.aws</span></span></code></pre>\n<p>Hope this helps someone.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Copying AWS Tags using CLI","date":"April 11, 2020","description":"Copying AWS Tags using CLI"}},"previous":{"fields":{"slug":"/how-to-install-opentracker-on-debain-10/"},"frontmatter":{"title":"How to Install OpenTracker on Debain 10"}},"next":{"fields":{"slug":"/how-to-install-consul-on-debain-10/"},"frontmatter":{"title":"How to Install Consul on Debain 10"}}},"pageContext":{"id":"422f3860-891c-5c0d-b5a4-ddccd1edfb6a","previousPostId":"9f183962-914a-5642-86fe-2714f4cb2f6b","nextPostId":"9f36ec28-1c06-5e60-adf4-b064b64cd9ae"}},"staticQueryHashes":["1206640803","2841359383"]}