{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-install-consul-on-debain-10/","result":{"data":{"site":{"siteMetadata":{"title":"Miyuru Tech Blog"}},"markdownRemark":{"id":"9f36ec28-1c06-5e60-adf4-b064b64cd9ae","excerpt":"In this tutorial, we will be installing Consul on Debian 10 buster in a single node. First cd to temp folder Install the necessary packages. Please noteâ€¦","html":"<p>In this tutorial, we will be installing Consul on Debian 10 buster in a single node.</p>\n<p>First cd to temp folder</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">cd</span><span class=\"mtk1\"> /tmp</span></span></span></code></pre>\n<p>Install the necessary packages.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo apt install curl jq unzip</span></span></span></code></pre>\n<blockquote>\n<p>Please note checkpoint-api.hashicorp.com is a IPv4 only endpoint at the time of the writing.</p>\n</blockquote>\n<p>To install the latest version use the following commands. It will check the system architecture as well.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">consul_version=</span><span class=\"mtk11\">`curl https://checkpoint-api.hashicorp.com/v1/check/consul </span><span class=\"mtk7\">|</span><span class=\"mtk11\"> jq .current_version </span><span class=\"mtk7\">|</span><span class=\"mtk11\">  tr -d &#39;&quot;&#39;`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">system_arch=</span><span class=\"mtk11\">`uname -m </span><span class=\"mtk7\">|</span><span class=\"mtk11\"> grep -q &#39;x86_64&#39; </span><span class=\"mtk7\">&amp;&amp;</span><span class=\"mtk11\"> </span><span class=\"mtk15\">echo</span><span class=\"mtk11\"> &#39;amd64&#39; </span><span class=\"mtk7\">||</span><span class=\"mtk11\"> </span><span class=\"mtk15\">echo</span><span class=\"mtk11\"> &quot;arm64&quot;`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">curl </span><span class=\"mtk11\">&quot;https://releases.hashicorp.com/consul/${consul_version}/consul_${consul_version}_linux_${system_arch}.zip&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">&gt;</span><span class=\"mtk1\"> consul.zip</span></span></span></code></pre>\n<p>unzip the consul zip.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">unzip consul.zip</span></span></span></code></pre>\n<p>Move the file to local bin, so it can accessed at any path and add the executable permission.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo cp consul /usr/local/bin/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo chmod +x /usr/local/bin/consul</span></span></span></code></pre>\n<p>check if the consul is working by checking the version.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">consul --version</span></span></span></code></pre>\n<p>If the all is well you should see a output like below.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"output\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Consul v1.8.4</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Revision 12b16df32</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Protocol 2 spoken by default, understands 2 to 3 (agent will automatically use protocol &gt;2 when speaking to compatible agents)</span></span></code></pre>\n<p>Start the consul agent in dev mode.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">consul agent -dev</span></span></span></code></pre>\n<p>by default the consul UI will run on 8500 port.</p>\n<p>visit <a href=\"http://localhost:8500/\">http://localhost:8500/</a> to view the consul UI.</p>\n<p>You should see output like below with consul services.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1772291174217.88387872590/bb2fd/consul_services.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42q2QwU7CQBCG92H0oCEmaIzP4cmDJsIB1JfwGbhykkAoPJEEAhWRwKHtNrTSbrft/u5uAyHQGEQm+TI7szOTmZ90ilXUzu7wWrhF/eIRXRl3rp9hXFXRKpRhXKr4CY3Thx3eTu7RLlZ0XffmBc3zEog/msMzZ3CHU9D+F1zFIPO0N1nHzvs4F9qfwOl96hoqPRmOPzAwTdguRSoEhOQ/RmyLwrIdeJ4PxiLEcbw3QcCwWPiyn8LzlxBpCrLkAaKII5XBX+FxAiZ7g5DpZdR1ZOrOYFm2PvcYRkSObqtcBjbI13j1nw2Eeu0OPHjD7USSJFLgb3DOEUptlPhKY+15hJCxX+X5AezTnZxmYUTCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Consul Services page\"\n        title=\"\"\n        src=\"/static/1772291174217.88387872590/f058b/consul_services.png\"\n        srcset=\"/static/1772291174217.88387872590/c26ae/consul_services.png 158w,\n/static/1772291174217.88387872590/6bdcf/consul_services.png 315w,\n/static/1772291174217.88387872590/f058b/consul_services.png 630w,\n/static/1772291174217.88387872590/40601/consul_services.png 945w,\n/static/1772291174217.88387872590/bb2fd/consul_services.png 1058w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Click the nodes in header and you view consul nodes.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1772291174216.63627872589/bb2fd/consul_nodes.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVR42q2R20rDQBCG8zB6IxE8ID6JeKEXClr1SQRfQqlWfSFtm1JpWm0TtUna3cRkD/mdXWoN9MrDwMfyz/4zzOw6N2tHqK8e4nazhgt3F+fuDu62Tq2+dim/USN9gqvl/QUul/bQWD+2vvvtM9RXDuDwpwCsO0LiPWPc6uO97SP2BojbA0TNvj2NHj/0MH5cJDK+FtV0jN+H0+x46Po9CKmgyxJ/DScM3zAKQjDGEcUTJBOOiYUhTqakmc3F9o5ZsixHngtIGsIghARPM2ilaWWegnPTYIq8KCAUGaSEJJOZek5FKyrUukRZfiOpzpzO8GWIMAwREKahiXJGNaq62mjO18qvowABURTCJj5UDibYrMnP39Qx66ZpSmvQp2gNpZXl15+Cf45P62ubv8edZ3sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Consul Nodes page\"\n        title=\"\"\n        src=\"/static/1772291174216.63627872589/f058b/consul_nodes.png\"\n        srcset=\"/static/1772291174216.63627872589/c26ae/consul_nodes.png 158w,\n/static/1772291174216.63627872589/6bdcf/consul_nodes.png 315w,\n/static/1772291174216.63627872589/f058b/consul_nodes.png 630w,\n/static/1772291174216.63627872589/40601/consul_nodes.png 945w,\n/static/1772291174216.63627872589/bb2fd/consul_nodes.png 1058w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>CRTL-C on the terminal to to stop the process.</p>\n<p>You have now successfully setup single consul node.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtk15 { color: #9966B8; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"How to Install Consul on Debain 10","date":"November 14, 2020","description":"Installing Consul on Debian 10 buster in a single node"}},"previous":{"fields":{"slug":"/copying-aws-tags-using-cli/"},"frontmatter":{"title":"Copying AWS Tags using CLI"}},"next":{"fields":{"slug":"/aws-root-volume/"},"frontmatter":{"title":"AWS 1GB Debian AMI"}}},"pageContext":{"id":"9f36ec28-1c06-5e60-adf4-b064b64cd9ae","previousPostId":"422f3860-891c-5c0d-b5a4-ddccd1edfb6a","nextPostId":"a4cd2826-8d51-5cbe-8225-b5cef687d156"}},"staticQueryHashes":["1888224856","2841359383"],"slicesMap":{}}