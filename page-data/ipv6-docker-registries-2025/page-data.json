{"componentChunkName":"component---src-templates-blog-post-js","path":"/ipv6-docker-registries-2025/","result":{"data":{"site":{"siteMetadata":{"title":"Miyuru Tech Blog"}},"markdownRemark":{"id":"bce1337e-d1d7-5193-9c55-d3e22f23ed02","excerpt":"Back in 2021, I checked for IPv6 support in public registries in the Docker Hub IPv6 support thread. Since Docker Hub now has IPv6 support, I wanted to see how‚Ä¶","html":"<p><a href=\"https://github.com/docker/roadmap/issues/89#issuecomment-772644009\">Back in 2021, I checked for IPv6 support in public registries in the Docker Hub IPv6 support thread</a>. Since Docker Hub now has IPv6 support, I wanted to see how other registries have fared.</p>\n<blockquote>\n<p><strong>‚ö†Ô∏è Note:</strong> The registry domains referenced here might change in the future. For a full domain list and upto date infomation on IPv6 support, please refer to the <a href=\"https://v6monitor.com/list/view/cf170dba3/\">v6monitor list</a>.</p>\n</blockquote>\n<h2>Results</h2>\n<p>Below are the tests I conducted using various registry domains. For each registry, I recorded the Docker endpoint result and used tcpdump to get the auth/blob domain. The registry endpoint is in <strong>bold</strong>.</p>\n<h2>Public Container Registries</h2>\n<h3>Docker Hub: Fully supports IPv6</h3>\n<ul>\n<li><strong>docker.io (registry-1.docker.io)</strong>: <strong>PASS ‚úÖ</strong></li>\n<li>docker-images-prod.6aa30f8b08e16409b46e0173d6de2f56.r2.cloudflarestorage.com: PASS ‚úÖ</li>\n<li>production.cloudflare.docker.com: PASS ‚úÖ</li>\n</ul>\n<h3>Red Hat Quay: Fully supports IPv6</h3>\n<ul>\n<li><strong>quay.io</strong>: <strong>PASS ‚úÖ</strong></li>\n<li>cdn01.quay.io: PASS ‚úÖ</li>\n<li>cdn02.quay.io: PASS ‚úÖ</li>\n</ul>\n<h3>GitHub Container Registry: Only blob endpoint supports IPv6</h3>\n<ul>\n<li><strong>ghcr.io</strong>: <strong>FAIL ‚ùå</strong></li>\n<li>pkg-containers.githubusercontent.com: PASS ‚úÖ</li>\n</ul>\n<h3>GitLab Container Registry: No IPv6 support</h3>\n<ul>\n<li><strong>registry.gitlab.com</strong>: <strong>FAIL ‚ùå</strong></li>\n<li>cdn.registry.gitlab-static.net: FAIL ‚ùå</li>\n</ul>\n<h3>AWS Public ECR: Default endpoint does not have IPv6</h3>\n<ul>\n<li><strong>public.ecr.aws</strong>: <strong>FAIL ‚ùå</strong></li>\n<li><strong>ecr-public.aws.com</strong>: <strong>PASS ‚úÖ</strong></li>\n<li>d5l0dvt14r5h8.cloudfront.net: PASS ‚úÖ</li>\n</ul>\n<h3>Scaleway Docker Registry: Only blob domain supports IPv6</h3>\n<ul>\n<li><strong>rg.nl-ams.scw.cloud</strong>: <strong>FAIL ‚ùå</strong></li>\n<li>api.scaleway.com: FAIL ‚ùå</li>\n<li>s3.nl-ams.scw.cloud: PASS ‚úÖ</li>\n</ul>\n<h3>Google Artifact Registry: Fully supports IPv6</h3>\n<ul>\n<li><strong>gcr.io</strong>: <strong>PASS ‚úÖ</strong></li>\n</ul>\n<h3>Alibaba Cloud Registry: Only auth domain supports IPv6</h3>\n<ul>\n<li><strong>registry.cn-hangzhou.aliyuncs.com</strong>: <strong>FAIL ‚ùå</strong></li>\n<li>dockerauth.cn-hangzhou.aliyuncs.com: PASS ‚úÖ</li>\n<li>aliregistry.oss-cn-hangzhou.aliyuncs.com: FAIL ‚ùå</li>\n</ul>\n<h2>Public Offical Container Registries</h2>\n<h3>Microsoft Container Registry: Fully supports IPv6</h3>\n<ul>\n<li><strong>mcr.microsoft.com</strong>: <strong>PASS ‚úÖ</strong></li>\n</ul>\n<h3>Kubernetes Registry: Supports IPv6</h3>\n<ul>\n<li><strong>registry.k8s.io</strong>: <strong>PASS ‚úÖ</strong></li>\n<li>prod-registry-k8s-io-ap-south-1.s3.dualstack.ap-south-1.amazonaws.com: PASS ‚úÖ</li>\n</ul>\n<blockquote>\n<p>‚ö†Ô∏è Note: Blob endpoint seems to use different provider S3 buckets based on regions. For my region, it has IPv6 support. You can find the complete bucket list <a href=\"https://github.com/kubernetes/registry.k8s.io/blob/main/cmd/archeio/internal/app/buckets.go\">here</a>.</p>\n</blockquote>\n<h2>Redirect Domains</h2>\n<ul>\n<li><strong>registry.access.redhat.com</strong>: Domain supports IPv6. Then it redirects to Red Hat Quay.</li>\n<li><strong>lscr.io</strong>: Domain does not support IPv6. Then it redirects to GitHub Container Registry.</li>\n</ul>\n<h2>Summary and Recommendations</h2>\n<p>Based on the tests conducted, here‚Äôs a summary table of registry IPv6 support and recommendations for environments where IPv6 is crucial:</p>\n<table>\n<thead>\n<tr>\n<th>Registry</th>\n<th>Docker Endpoint</th>\n<th>Blob Endpoint</th>\n<th>Overall IPv6 Support</th>\n<th>Recommendation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Docker Hub</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>Full</td>\n<td>Recommended</td>\n</tr>\n<tr>\n<td>Red Hat Quay</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>Full</td>\n<td>Recommended</td>\n</tr>\n<tr>\n<td>Google Artifact Registry</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>Full</td>\n<td>Recommended</td>\n</tr>\n<tr>\n<td>Microsoft Container Registry</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>Full</td>\n<td>Recommended</td>\n</tr>\n<tr>\n<td>Kubernetes Registry</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>Full</td>\n<td>Recommended</td>\n</tr>\n<tr>\n<td>AWS Public ECR</td>\n<td>üöß</td>\n<td>‚úÖ</td>\n<td>Almost there</td>\n<td>Need to use a seperate endpoint</td>\n</tr>\n<tr>\n<td>GitHub Container Registry</td>\n<td>‚ùå</td>\n<td>‚úÖ</td>\n<td>Partial</td>\n<td>Recommend to use with NAT64</td>\n</tr>\n<tr>\n<td>Scaleway Docker Registry</td>\n<td>‚ùå</td>\n<td>‚úÖ</td>\n<td>Partial</td>\n<td>Recommend to use with NAT64</td>\n</tr>\n<tr>\n<td>Alibaba Cloud Registry</td>\n<td>‚ùå</td>\n<td>‚ùå</td>\n<td>None</td>\n<td>Not recommended</td>\n</tr>\n<tr>\n<td>GitLab Container Registry</td>\n<td>‚ùå</td>\n<td>‚ùå</td>\n<td>None</td>\n<td>Not recommended</td>\n</tr>\n</tbody>\n</table>\n<p>For IPv6-only or IPv6-first environments, I recommend using registries with full IPv6 support such as Docker Hub, Red Hat Quay and Google Artifact Registry.</p>\n<p>I recommend using NAT64 because the blob endpoint handles the most bandwidth-intensive downloads, which puts the most burden on the NAT64 server. You can use one from <a href=\"https://nat64.xyz/\">https://nat64.xyz/</a>, but in my testing, most of them seemed to be rate-limited at the Docker endpoint due to high usage.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>","frontmatter":{"title":"IPv6 Support in Public Docker Registries","date":"April 15, 2025","description":"Finding out IPv6 Support in Public Docker Registries in 2025"}},"previous":{"fields":{"slug":"/linux-google-brr/"},"frontmatter":{"title":"Speeding Up Your Network with Google BBR"}},"next":{"fields":{"slug":"/adding-ipv6-support-to-ses-in-aws-sdk/"},"frontmatter":{"title":"Adding IPv6 Support to SES in AWS SDK"}}},"pageContext":{"id":"bce1337e-d1d7-5193-9c55-d3e22f23ed02","previousPostId":"a001be9a-af21-5d52-a9df-ec2fceb2faf6","nextPostId":"5dc4d969-5af6-566e-915f-96f0ec117607"}},"staticQueryHashes":["1206640803","2841359383"]}